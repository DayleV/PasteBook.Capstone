<div class="container">
    <div *ngIf="error > 0; else elseBlock">
        <h1>{{errorMessage}}</h1>
    </div>
    <ng-template #elseBlock>
        <div *ngIf="postDetail$ | async as PostDetail">
            <div>
                <div id="postBody">
                    <h5>First Name : {{PostDetail.post?.user?.firstName}} Last Name :
                        {{PostDetail.post?.user?.lastName}}</h5>
                    <p> &nbsp; {{PostDetail.post?.postContent}}</p>
                    <p id="postDate"><em>Posted last {{PostDetail.post?.postDate}}</em></p>
                    <div id="likeAndCommentRow">
                        <div id="like">
                            <p id="likeCount">{{likeCount}}</p>
                            <div *ngIf="isLiked">
                                <button id="heartButton" class="btn btn-default" type="submit"
                                    (click)="unLikePost(PostDetail.post?.postId!)">
                                    <i [ngClass]="{'fa-solid fa-heart' : isLiked === true}"></i>
                                </button>
                            </div>
                            <div *ngIf="!isLiked">
                                <button id="heartButton" class="btn btn-default" type="submit"
                                    (click)="likePost(PostDetail.post?.postId!, PostDetail.post?.user?.userId!)">
                                    <i [ngClass]="{'fa fa-heart-o' : isLiked === false}"></i>
                                </button>
                            </div>
                        </div>
                        <div>
                            <p>Comments</p>
                        </div>                    
                    </div>
                </div>
            </div>        

            <div>
                <div id="commentTextboxRow">
                    <textarea rows="2" cols="80" name="comment" type="text" [(ngModel)]="comment" id="commentTextbox"
                        placeholder="Enter Comment"
                        (keyup.enter)="AddComment(PostDetail.post?.postId!, PostDetail.post?.user?.userId!)">
                        </textarea>
                    <button class="btn btn-default" type="submit" (click)="ShowComments()">
                        <i class="fa-solid fa-sort-down"></i>
                    </button>
                    <!-- <ng-template #elseBlock>
                            <button class="btn btn-default" type="submit" (click)="ShowComments()">
                                <i class="fa-solid fa-caret-down"></i>
                            </button>
                        </ng-template>       -->
                </div>
                <div *ngIf="showComments">
                    <div *ngFor="let comment of PostDetail.comments" id="commentBody">
                        <span id="commentHeader">
                            <h6>First Name : {{PostDetail.post?.user?.firstName}} Last Name :{{PostDetail.post?.user?.lastName}}</h6>
                            <p id="commentDate"><em>Comment Date: {{comment.commentDate}}</em></p>
                        </span>
                        <p>
                            <span> &nbsp; &nbsp; <em>{{comment.commentContent}}</em></span>
                        </p>
                    </div>
                    <br>
                </div>
            </div>
        </div>
    </ng-template>
</div>